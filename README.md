# JVM(Java Virtual Machine)에 대한 정리


###JVM

######jre에서 자바 바이트코드가 동작한다. 이 jre의 가장 중요한 요소는 자바 바이트코드를 해석하고 싶행하는 JVM(Java Virtual Machine)이다.
######jre는 자바 API와 JVM으로 구성되어 있다. JVM의 역할은 자바 어플리케이션을 클래스 로더(Class Loader)를 통해 읽어 들여서 자바 API와 함께 실행하는 것이다.

###가상 머신(virtual machine) 
######프로그램을 실행하기 위해 물리적 머신과 유사한 머신을 소프트웨어로 구현한 것
######자바는 WORA(Write Once Run Anywhere)를 구현하기 위해 물리적인 머신과 별개의 가상 머신을 기반으로 동작 설계
######자바 바이트코드를 실행하고자 하는 모든 하드웨어에 JVM을 동작시킴으로써 자바 실행 코드를 변경하지 않고도 모든 종류의 하드웨어에서 동작하게 한 것이다.

###JVM의 특징

######스택 기반의 가상 머신 : 대표적인 커퓨터 아키텍처인 인텔 x86 아케텍처나 ARM 아케텍처와 같은 하드웨어는 레지스터 기반으로 동작, JVM은 스택 기반이다.
######심볼릭 레퍼런스 : 명시적 메모리 주소 기반의 레퍼런스가 아닌, 기본 자료형(primitive data type)을 제외한 모든 타입(클래스와 인터페이스)을 심볼릭 레퍼런스를 통해 참조한다.
######가비지 컬렉션(garbage collection) : 클래스 인스턴스는 사용자 코드에 의해 명시적으로 생성되고 가비지 컬렉션에 의해 자동으로 파괴된다.
######기본 자료형을 명확하게 정의하여 플랫폼 독립성 보장 : C/C++ 등의 전통적인 언어는 플랫폼에 따라 int 형의 크기가 변한다. JVM은 기본 자료형을 명확하게 정의하여 호환성을 유지하고 플랫폼 독립성을 보장한다.
######네트워크 바이트 오더(network byte order) : 자바 클래스 파일은 네트워크 바이트 오더를 사용한다. (이해 불가, 나중에 이해하겠지...) / 네트워크 바이트 오더는 빅 엔디안이다.

######자바는 썬 마이크로시스템즈가 개발했지만, JVM 명세(The Java Virtual Machine Specification)를 따르기만 하면 어떤 벤더든 JVM을 개발하여 제공할 수 있다. 
######따라서 대표적인 오라클 핫스팟 JVM 외에도 IMB JVM을 비롯한 다양한 JVM이 존재한다.


###자바 바이트코드

######WORA를 구현하기 위해 JVM은 사용자 언어인 자바와 기계어 사의 중간 언어인 자바 바이트코드를 사용한다. 이 자바 바이트코드가 자바 코드를 배포하는 가장 작은 단위이다.


######JVM은 자바 바이트코드를 실행하는 실행기다. 자바 컴파일러는 C/C++ 등의 컴파일러처럼 고수준 언어를 기계어, 즉 직접적인 CPU명령으로 변환하는 것이 아니라,
######개발자가 이해하는 언어를 JVM이 이해하는 자바 바이트코드로 번역한다. 그래서 자바 바이트코드는 플랫폼 의존적인 코드가 없기 때문에 ######JVM(같은 프로파일의 JRE)이 설치된 장비라면 CPU나 운영체제가 다르더라도 실행할 수 있다.

###JVM의 구조


######Java Source(.java 파일)
######l
######l << ----------------------------- << Java Compiler
######l
######V
######Java Byte Code(.class 파일)
######l
######V
######--------------------------------------------------------------------------
######l    l
######l    V
######l    Class Loader <--> Runtime Data Areas
######l    A
######l    l
######l    V
######l    Execution Engine <--> Runtime Data Areas
######l
######l------------------------- Java Virtual Machine --------------------------
######--------------------------------------------------------------------------


######출처 - http://d2.naver.com/helloworld/1230




